{% extends 'base_site.html' %}
{% load static %}

{% block extrahead %}
  <link rel="stylesheet" type="text/css" href="{% static 'css/medics.css' %}">

  <style>
  .profile-container {
    background: #f0f0f0;
    border-radius: 1rem;
  }

  .row {
    margin-top: 2rem;
  }

  .row div.padded {
    padding: 1rem;
  }

  .silhouette * {
    filter: contrast(0);
    opacity: 0.2;
  }
  </style>
{% endblock %}

{% block title %}My Progress{% endblock %}

{% block content %}

<div class="row profile-container material-shadow">
  <div class="padded ">
    <div class="col-sm-6">
      <div class="text-center">
        <img src="{% static '/img/staff/john_cropped_happy.svg' %}"></img>
        <h4>Admin</h4>
        <h5>Level {{ player_details.level.index }} {{ player_details.level.name }}</h5>
        <div class="progress" style="background: lightgrey">
          <div class="progress-bar progress-bar-success progress-bar-striped active" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100"
          style="width: {{ player_details.percent_of_level }}%">
            {{ player_details.total_points }} Points
          </div>
        </div>
      </div>
    </div>
    <div class="col-sm-3">
      <div class="alert alert-success" role="alert">Badge 1</div>
      <div class="alert alert-success" role="alert">Badge 3</div>
      <div class="alert alert-success" role="alert">Badge 5</div>
    </div>
    <div class="col-sm-3">
      <div class="alert alert-success" role="alert">Badge 2</div>
    </div>
  </div>
</div>

<div class="row text-center">
<h4>- Colleagues -</h4>
</div>

{% if not player_details.tracker_set %}

{% if player_details.user == user %}
<div class="text-center">
  <button class="btn btn-primary">Add colleagues</button>
</div>
{% else %}
<div class="alert alert-warning alert-dismissible" role="alert">
This user did not add any colleagues yet.
</div>
{% endif %}

{% else %}

  {% for tracker in player_details.tracker_set %}
  {% if forloop.counter0|divisibleby:2 %}<div class="row">{% endif %}

  <div class="col-sm-6">
    <div class="profile-container text-center silhouette padded material-shadow">
      <img src="{% static '/img/staff/felix_cropped_happy.svg' %}"></img>
      <h4>Add a colleague</h4>
      <h5>...</h5>
      <div class="progress">
        <div class="progress-bar progress-bar-success progress-bar-striped active" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 45%"></div>
      </div>
    </div>
  </div>

  {% if forloop.counter0|divisibleby:2 %}</div>{% endif %}

  {% endfor %}

{% endif %}

{% endblock %}
